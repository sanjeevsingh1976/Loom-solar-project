<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOAN EMI CALCULATOR</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="new-box loanthing">
<form action="" id="loan-form">
<div class="container-sm d-flex justify-content-evenly">
    <div class="p-2 w-100">
    <H2 class="newfont"> Check Loan Status, Interest & Installment.</H2><br>
    <p class="fnt">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Assumenda repellat sunt velit sapiente voluptas magnam, quam doloribus.</p><br>
    <label>Loan Amount:</label><br>
    <input type="number" class="form-control" id="amount" placeholder="amount"><br>
    <label>Rate(APR):</label><br>
    <input type="number" class="form-control" id="interest" placeholder="interest"><br>
    <label>Term:</label><br>
    <input type="number" class="form-control" id="years" placeholder="years to repay">
    <p class="fs-6 fw-lighter">Format: In years</p>
</div>
<div class="p-2 flex-shrink-1">
    <label>Monthly Payment :</label><br>
    <input type="number" class="form-control bg-white border-white" id="monthly-payment" disabled><br>
    <label> Total Amount :</label><br>
    <input type="number" class="form-control bg-white border-white" id="total-payment" disabled>
<br>
    <label>Total Interest :</label><br>
    <input type="number" class="form-control bg-white border-white" id="total-interest" disabled>
<br>
<label>Number oF Payment :</label><br>
<input type="number" class="form-control bg-white border-white" id="numberPayment" disabled>

<br>
    <br>
    <button type="submit" class=" mybtn btn btn-block btn-primary " value="calculate" id="submit" >Calculate EMI</button>
</div>
</div>
</form>

</div>
<span class="d-flex justify-content-center">
<button class=" mrg btn btn-block btn-primary " >APPLY FOR LOAN</button></span>




    <script>

           //Listen for submit
           document.getElementById('loan-form').addEventListener('submit', calculateResults);
        
        // Calculate results
        function calculateResults(e){
            event.preventDefault()
            console.log('calculating')

            
            const amount = document.getElementById('amount');
            const interest = document.getElementById('interest');
            const years = document.getElementById('years');
            const monthlypayment = document.getElementById('monthly-payment');
            const totalPayment = document.getElementById('total-payment');
            const totalInterest = document.getElementById('total-interest');
            const numberPayment = document.getElementById('numberPayment');


        //convert numbers to decimal before displaying result
        //amount.value mean value entered should can be used
        // amount.value mean the value enter is taken and can be used
        // it is parseFloat that convert numbers to decimal
        const principal = parseFloat(amount.value);
        const calculateInterest = parseFloat(interest.value) / 100 / 12 ;
        const calculatePayment = parseFloat(years.value) * 12;

            //lets compute monthly payment
            const x = Math.pow(1+ calculateInterest, calculatePayment);
            const monthly = (principal* x* calculateInterest) / (x-1);


        //let ensure user enter a current number
        if(isFinite(monthly)){
            monthlypayment.value = monthly.toFixed(2);
            totalPayment.value = (monthly*calculatePayment).toFixed(2);
            totalInterest.value = ((monthly * calculatePayment)- principal).toFixed(2);
            numberPayment.value = parseFloat(years.value)*12;      
         }
            else{
            console.log('please check your numbers')
        }




        }
    </script>
</body>
</html>