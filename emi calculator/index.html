<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI CALCULATOR</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">



</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6 mx-auto">
                <div class="card card-body text-center mt-5">
                    <h1 class="heading display-5 pb-3">Loan Calculation</h1>
                    <form action="" id="loan-form">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="amount" placeholder="amount">
                            </div>
                        </div>
<br>
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-text">%</span>
                                <input type="number" class="form-control" id="interest" placeholder="interest">
                            </div>
                        </div>
<br>
                        <div class="form-group">
                            <div class="input-group">
                                <input type="number" class="form-control" id="years" placeholder="years to repay">
                            </div>
                        </div>
<br>
                        <div class="form-group">
                            <div class="input-group">
                                <input type="submit" class="btn btn-dark btn-block" value="calculate">
                            </div>
                        </div>
                    </form>

                    <!----RESULT-->
                    <div>
                    <h5>RESULT</h5>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-text">Monthly Payment</span>
                            <input type="number" class="form-control" id="monthly-payment" disabled>
                        </div>
                    </div>


                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-text">Total Amount</span>
                            <input type="number" class="form-control" id="total-payment" disabled>
                        </div>
                    </div>


                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-text">Total Interest</span>
                            <input type="number" class="form-control" id="total-interest" disabled>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
    <script>
            //Listen for submit
            document.getElementById('loan-form').addEventListener('submit', calculateResults);
        
        // Calculate results
        function calculateResults(e){
            event.preventDefault()
            console.log('calculating')

            
            const amount = document.getElementById('amount');
            const interest = document.getElementById('interest');
            const years = document.getElementById('years');
            const monthlypayment = document.getElementById('monthly-payment');
            const totalPayment = document.getElementById('total-payment');
            const totalInterest = document.getElementById('total-interest');


        //convert numbers to decimal before displaying result
        //amount.value mean value entered should can be used
        // amount.value mean the value enter is taken and can be used
        // it is parseFloat that convert numbers to decimal
        const principal = parseFloat(amount.value);
        const calculateInterest = parseFloat(interest.value) / 100 / 12 ;
        const calculatePayment = parseFloat(years.value) * 12;

            //lets compute monthly payment
            const x = Math.pow(1+ calculateInterest, calculatePayment);
            const monthly = (principal* x* calculateInterest) / (x-1);


        //let ensure user enter a current number
        if(isFinite(monthly)){
            monthlypayment.value = monthly.toFixed(2);
            totalPayment.value = (monthly*calculatePayment).toFixed(2);
            totalInterest.value = ((monthly * calculatePayment)- principal).toFixed(2);
        }else{
            console.log('please check your numbers')
        }




        }
    </script>
</body>
</html>